# Knowledge Express
[Knowledge Express is deployed to GitHub](https://JoelHKV.github.io/Knowledge-Express/)

## General Information

Knowledge Express is an educational web app designed to teach any
topic that can be expressed through language. It harnesses 
the power of ChatGPT, making learning an exciting 
and interactive journey. In a world where reading long blocks of text 
can be challenging, Knowledge Express offers an engaging alternative.

Prepare yourself for an educational adventure on Knowledge Express!


## Introduction

Knowledge Express is a unique first-person educational game where 
players take on the role of train drivers. The railway tracks in 
front of the train are lined with educational material presented 
on railroad signs.

### Choosing a Question


The journey begins as you find yourself in the driver's seat of 
Knowledge Express: 

<img src="https://raw.githubusercontent.com/JoelHKV/Knowledge-Express/main/public/Fig1.jpg" width="600" height="auto">


The train moves forward, passing through 
railroad signs, each displaying a question. For each sign, you 
have three choices:

- Ignore the sign: The train will continue to move forward automatically.
- Stop in front of the sign: Click once to pause in front of the sign.
- Select the sign: Click twice to choose a question.


Once you've selected a question, ChatGPT will begin processing it, 
and the chosen question will fly in front of the train. 
Meanwhile, waiting signs along the railroad will be posted.


### Reading the Answer

After ChatGPT has generated an answer, a sign displaying 
the answer will fly in front of the train. 

<img src="https://raw.githubusercontent.com/JoelHKV/Knowledge-Express/main/public/Fig2.jpg" width="600" height="auto">


After you have read the answer, click on the sign and it will fly away.


 

### Choosing a Follow-up Question


Following the answer, signs with follow-up questions will be displayed. 
This process mirrors the initial selection of a question, except 
that these are follow-up questions related to the previous answer 
generated by ChatGPT.

You can now choose a follow-up question, receive an answer, 
and access new follow-up questions. This cycle can be 
repeated as many times as desired, allowing you to delve 
deeper into topics of interest.


### Learning Cycle

Knowledge Express simplifies the learning process by incorporating 
follow-up questions alongside the answers. Users can learn by 
merely clicking away, without the need for complicated actions. 
ChatGPT continuously provides questions, and users can explore 
topics in depth by selecting the questions that pique their curiosity.

 
## Learning Promoting Features

Knowledge Express offers several unique features that foster 
effective learning:

- Personalized Learning: Users can dive into topics they are inherently interested in, boosting motivation compared to rigid curriculum-based learning.

- Immediate Exploration: Users can get inspired by new topics and dive into them immediately, preventing motivation from waning or topics from being forgotten.

- Engaging Interactions: Users engage in fast-paced interactions with small, digestible doses of information, a learning style well-suited for the modern world where attention spans can be limited.

- Flexible Pacing: Users can control the speed of the train, determining the rate at which they receive information, making it suitable for both fast and slow learners.

- Fun and Interactive: Learning becomes an enjoyable activity, as users embark on a fun journey while acquiring knowledge.

- Motion-Enhanced Learning: Users experience motion while learning, making the process more engaging and enjoyable.


## Instructions
 
Instructions within Knowledge Express are displayed as railroad signs, 
in line with the app's overall theme. These instructions guide users 
throughout the experience and can be accessed by clicking the '?' 
button at any time. Here's an overview of the instructions:

### Welcome!

- Welcome to Knowledge Express! 
- This special train ride is all about learning.
- It teaches you nearly everything you have ever wanted to know.
- Whether you're a seasoned traveler or just starting your journey...
- These instructions will guide you through the experience.
- If you already know what to do, click MQ, WQ, or LQ to start.
- Otherwise, keep reading these instructional signs.

### Controlling the Train

- You can control the speed of the train in several different ways:
- Use the throttle lever located in the middle of the control panel.
- Turn the mouse wheel up and down.
- Click any sign once, and the train will stop in front of it.
- To resume motion, use the throttle lever, the mouse wheel, or simply click an empty part of the screen.

### Gameplay Overview

- First, you will either choose a question or type in a question.
- The WQ button will display a series of World Questions to choose from.
- The LQ button will display a series of Life Questions to choose from.
- Alternatively, the MQ (My Question) button allows you to ask whatever you want. Simply type in your question and press the "Submit" button.
- Whether you choose a question or type in a question, a red border will appear around it. This indicates that ChatGPT is thinking about the question.
- Once the answer is ready, the answer sign will "fly" right in front of the train.
- After you have read the answer, click the answer sign, and it will fly away.

### Exploring Topics

- Next, you will see a series of signs that contain follow-up questions.
- Double-click any follow-up question, and ChatGPT will start thinking about it.
- After reading the answer, you will be presented with new follow-up questions.
- By always asking the follow-up question of your interest, you can delve into any topic as deeply as you want.

### Changing Topics

- Once you are done with the topic, you can click MQ, WQ, or LQ to restart.
- Enjoy your learning journey with Knowledge Express!
- Now click MQ, WQ, or LQ to start, or press "?" to read the instructions again.


## Architectural Choices

The following architectural choices were made:

- All 3D objects, particularly the signs, where made as autonomic as possible.
- Uncessary re-renderings were avoided as much as possible
- Strict division of the 3D scene and the rest of the app was implemented
- Prop drilling was used instead of a state management library

The purpose of these choices was to equip the project owner to handle more 
complex yet similar projects in a performant manner. 

## Getting Started
To run this React app locally, follow these 5 steps:
1. **Clone the Repository:**
```
git clone https://github.com/JoelHKV/Knowledge-Express.git
```
2. **Navigate to the Project Directory:**
```
cd your-react-app
```
3. **Install Dependencies:**
```
npm install
```
4. **Start the Development Server:**
```
npm run dev
```
5. **API Accecss:**

If you wish to use this API, please refer [API Access](#api-access) for details.
If you wish to test this app with mock data, go to App.jsx and find 
the following two lines:

```
   const { questionAnswerData, loaded, error } = fetchQandA(cloudFunctionURL, thisQuestion); // fetch real data from the API
    //const { questionAnswerData, loaded, error } = fetchMockQandA(cloudFunctionURL, thisQuestion); // mimic fetch and generate mock data
```
Simply comment the first line (real data) and uncomment the second line (mock data),
and nowthe app uses a hook that generates nonsense text to signs.




## Folder Structure
The project directory is organized as follows:

* src/: This folder contains the main source code
* main.jsx: The JavaScript entry point
* App.jsx: The main entry point
* App.css: The main CSS styles specific to App.jsx
* assets/: Stores static assets like images, fonts, etc
* components/: Houses React components
* hooks/: Contains custom React hooks
* utilities/: Holds utility functions
* testing_scripts/: Contains testing scripts

## Data

ChatGPT 3.5 generated.

### Generation of Initial Data

- Prompt ChatGPT (manually) to generate the initial questions (100 world questions and 100 life questions)
- Loop through initial questions and request ChatGPT to generate answers and follow-up questions (see the functions below))
- Filter and arrange data to dictionaries (see ```chat_gpt_data_generation.py``` in the backend-folder)
- Save filtered data to Google Firestore

 ```
def answer_and_related_questions(question):
    text = '''
    Provide an 80-word answer to this question: """ ''' + question + ''' """. Give your answer
    as a summary, not a list. Based on your answer, also provide seven follow-up questions. 
    Place a hashtag (#) before and after every question and answer. 
    Do not answer the follow up questions or write anything extra."
    '''    

    message_log = [
    {"role": "system", "content": text}
    ]
    response_content = chat_completion_create(message_log)

    return response_content
     
     
def chat_completion_create(message_log):
    response = openai.ChatCompletion.create(
    model="gpt-3.5-turbo",  # The name of the OpenAI chatbot model to use
    messages=message_log,   # The conversation history up to this point, as a list of dictionaries
    max_tokens=980,        # The maximum number of tokens (words or subwords) in the generated response
    stop=None,              # The stopping sequence for the generated response, if any (not used here)
    temperature=0.0,        # The "creativity" of the generated response (higher temperature = more creative)
    )
    return response.choices[0].message.content


```

 
### Cloud Function to Serve Data

A special purpose Google Cloud Function was written to deal with 
initial and live data. Here, we will discuss the functional 
aspect of it.
 

#### API Access 
To ensure the security and reliability of this API, the cloud function
first checks the URL and the IP address of the request. 
Automatic access is granted
to the URL of the deployed version and the IP address 
of my own development server.

If you wish to use this API, please don't hesitate to contact the [Project owner](#contact-information).

#### Retrieve Data or Make a ChatGPT Request 
Next, the cloud function checks whether the incoming question
has already been saved to Firestore or not. If yes, the function
reads the data from the firebase. Since the cloud function will
handle the database automatically, we will not discuss 
database schema here.

If the requested question is not found in the database, the function
will make a ChatGPT request similar to [Generation of Initial Data](#generation-of-initial-data)
retrieves the data.  

#### API Endpoint 

Use the API as follows:

- **URL:** `https://europe-north1-koira-363317.cloudfunctions.net/knowledgeExpressRequest?question=ENTER_QUESTION_HERE`
- **Description:** Returns json with keys "answer", "q1", "q2", "q3", "q4", "q5", and "q6"
- **Usage:** Replace `ENTER_QUESTION_HERE` with the question and make a GET request to the URL.

A request returns a json that looks as follows: 

```
{"answer":"GitHub is a web-based platform for 
version control and collaboration that allows 
developers to store and manage their code repositories. 
It provides tools for tracking changes, managing branches, 
and facilitating collaboration among team members. ",
"q1":"What are some key features of GitHub? ",
"q2":"How does GitHub help with version control? ",
"q3":"Can GitHub be used for both personal and professional projects? ",
"q4":"What are some alternatives to GitHub? ",
"q5":"How does GitHub facilitate collaboration among developers? ",
"q6":"Can GitHub be used for non-coding projects? "}
```

### Prompting ChatGPT
The prompting of ChatGPT is a pursuit of trial and error, and some
things are worth nothing here:

- ChatGPT 3.5 generally provides quite good answers. Indeed, it is
inherintly designed for generating answers to questions and trained with
a large amount of data.

- ChatGPT 3.5 is quite good at generating follow-up questions as well, 
although they might sometimes be a bit repetitive and not always the 
most brillant.

- ChatGPT 3.5 does not always provide the answer in the requested format, even when 
the tempareture param is set to 0. We first attempted to request json format
directly, but decided to request a hashtag (#) as a delimiter and parse the data
ourselves. Even then, careful examination of potential output formats is in order and
how to deal with them.
- ChatGPT 3.5 does not always correctly count up to 6. To overcome, we requested
7 follow-up questions and selected the first 6.





## Technologies Used
The frontend is written in JavaScript (React), HTML, and CSS.  The backend is written in Python.

## Testing
## Known Issues
## Roadmap
- Railroad signs could contain information beyond text. For example more abstract 
question could be placed higher than concrete questions. Answers signs could also be color-coded for 
example how certain ChatGPT is about the answer.

## Contact Information

For inquiries or collaboration opportunities, please feel free to contact me via email. 
My name is listed on the [Profile page](https://github.com/JoelHKV), and I am using Gmail.

